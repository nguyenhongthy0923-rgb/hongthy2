<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phi·∫øu ƒê√°nh Gi√° C·∫£m X√∫c Sau 5 Ng√†y</title>
    <style>
        /* CSS Styling */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f7f6;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }
        .container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            max-width: 700px;
            width: 100%;
        }
        h2 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .question-block {
            margin-bottom: 25px;
            padding: 15px;
            border: 1px solid #ecf0f1;
            border-radius: 8px;
        }
        .question-block label {
            font-weight: bold;
            display: block;
            margin-bottom: 10px;
            color: #2980b9;
        }
        .scale-option {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 0.9em;
            color: #7f8c8d;
        }
        input[type="range"] {
            width: 100%;
            margin-top: 10px;
        }
        textarea {
            width: 97%;
            min-height: 80px;
            padding: 10px;
            border: 1px solid #bdc3c7;
            border-radius: 4px;
            resize: vertical;
        }
        button {
            background-color: #2ecc71;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1.1em;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #27ae60;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>üìù Phi·∫øu ƒê√°nh Gi√° C·∫£m X√∫c Sau 5 Ng√†y</h2>
    <p>M·ª•c ƒë√≠ch l√† ƒë·ªÉ l·∫Øng nghe c·∫£m nh·∫≠n c·ªßa sinh vi√™n. M·ªçi c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n ƒë·ªÅu ƒë∆∞·ª£c gi·ªØ k√≠n. Vui l√≤ng ch·ªçn v√† ghi l·∫°i c·∫£m x√∫c c·ªßa m√¨nh.</p>

    <form id="evaluationForm">
        </form>
    
    <button type="button" onclick="handleSubmit()">G·ª≠i Phi·∫øu ƒê√°nh Gi√°</button>
</div>

<script>
    // 1. M·∫¢NG C√ÇU H·ªéI (QUESTIONS ARRAY)
    const questions = [
        { id: 1, text: "M·ª©c ƒë·ªô h√†i l√≤ng chung c·ªßa b·∫°n v·ªÅ 5 ng√†y v·ª´a qua l√†:", type: "scale", min: 1, max: 5, labels: ["R·∫•t kh√¥ng h√†i l√≤ng", "R·∫•t h√†i l√≤ng"] },
        { id: 2, text: "B·∫°n c·∫£m th·∫•y m·ª©c nƒÉng l∆∞·ª£ng (tinh th·∫ßn) c·ªßa m√¨nh nh∆∞ th·∫ø n√†o?", type: "scale", min: 1, max: 5, labels: ["R·∫•t th·∫•p", "R·∫•t cao"] },
        { id: 3, text: "B·∫°n c√≥ c·∫£m th·∫•y c√≥ ƒë·ªông l·ª±c, c·∫£m h·ª©ng kh√¥ng?", type: "scale", min: 1, max: 5, labels: ["Ho√†n to√†n kh√¥ng", "Ho√†n to√†n c√≥"] },
        { id: 4, text: "B·∫°n c·∫£m th·∫•y cƒÉng th·∫≥ng/lo l·∫Øng ·ªü m·ª©c ƒë·ªô n√†o?", type: "scale", min: 1, max: 5, labels: ["Kh√¥ng c√≥", "C·ª±c k·ª≥ cao"] },
        { id: 5, text: "B·∫°n c·∫£m th·∫•y k·∫øt n·ªëi t·ªët v·ªõi b·∫°n b√®/ƒë·ªìng nghi·ªáp kh√¥ng?", type: "scale", min: 1, max: 5, labels: ["Ho√†n to√†n kh√¥ng", "R·∫•t k·∫øt n·ªëi"] },
        { id: 6, text: "B·∫°n c√≥ c·∫£m th·∫•y c√¢n b·∫±ng (kh√¥ng qu√° √°p l·ª±c) kh√¥ng?", type: "scale", min: 1, max: 5, labels: ["Kh√¥ng c√¢n b·∫±ng", "R·∫•t c√¢n b·∫±ng"] },
        
        // 4 C√ÇU H·ªéI G√ìP √ù CHI TI·∫æT (D·∫°ng ƒêo·∫°n vƒÉn)
        { id: 7, text: "ƒêi·ªÅu g√¨ trong 5 ng√†y v·ª´a qua khi·∫øn b·∫°n c·∫£m th·∫•y t√≠ch c·ª±c/h·ª©ng kh·ªüi nh·∫•t?", type: "paragraph", required: true },
        { id: 8, text: "V·∫•n ƒë·ªÅ (ho·∫∑c c·∫£m x√∫c ti√™u c·ª±c) l·ªõn nh·∫•t m√† b·∫°n ph·∫£i ƒë·ªëi m·∫∑t l√† g√¨?", type: "paragraph", required: true },
        { id: 9, text: "B·∫°n c√≥ ƒë·ªÅ xu·∫•t g√¨ ƒë·ªÉ c·∫£i thi·ªán tr·∫£i nghi·ªám trong c√°c ng√†y ti·∫øp theo?", type: "paragraph", required: false },
        { id: 10, text: "B·∫°n c√≥ th√¥ng tin kh√°c mu·ªën chia s·∫ª kh√¥ng?", type: "paragraph", required: false }
    ];

    const form = document.getElementById('evaluationForm');

    // 2. H√ÄM T·∫†O FORM T·ª∞ ƒê·ªòNG
    function generateForm() {
        questions.forEach(q => {
            const block = document.createElement('div');
            block.className = 'question-block';

            const label = document.createElement('label');
            label.innerHTML = `C√¢u ${q.id}: ${q.text}${q.required ? ' *' : ''}`;
            block.appendChild(label);

            if (q.type === 'scale') {
                const input = document.createElement('input');
                input.type = 'range';
                input.id = `q${q.id}`;
                input.name = `q${q.id}`;
                input.min = q.min;
                input.max = q.max;
                input.value = Math.ceil((q.min + q.max) / 2); // Gi√° tr·ªã m·∫∑c ƒë·ªãnh ·ªü gi·ªØa
                
                const scaleDiv = document.createElement('div');
                scaleDiv.className = 'scale-option';
                scaleDiv.innerHTML = `
                    <span>${q.labels[0]}</span>
                    <span>${q.labels[1]}</span>
                `;
                
                block.appendChild(input);
                block.appendChild(scaleDiv);

            } else if (q.type === 'paragraph') {
                const textarea = document.createElement('textarea');
                textarea.id = `q${q.id}`;
                textarea.name = `q${q.id}`;
                if (q.required) {
                    textarea.required = true;
                }
                block.appendChild(textarea);
            }

            form.appendChild(block);
        });
    }

    // 3. H√ÄM X·ª¨ L√ù KHI G·ª¨I (SUBMISSION HANDLER)
    function handleSubmit() {
        if (!form.checkValidity()) {
            alert("Vui l√≤ng tr·∫£ l·ªùi c√°c c√¢u h·ªèi b·∫Øt bu·ªôc (*).");
            return;
        }

        const formData = new FormData(form);
        const results = {};
        
        // Thu th·∫≠p d·ªØ li·ªáu
        for (const [key, value] of formData.entries()) {
            results[key] = value;
        }

        // Hi·ªán k·∫øt qu·∫£ (b·∫°n c√≥ th·ªÉ thay th·∫ø b·∫±ng logic g·ª≠i d·ªØ li·ªáu ƒë·∫øn server)
        console.log("D·ªØ li·ªáu thu th·∫≠p ƒë∆∞·ª£c:", results);
        alert("C·∫£m ∆°n b·∫°n ƒë√£ ho√†n th√†nh phi·∫øu ƒë√°nh gi√°! D·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c ghi nh·∫≠n.");
        
        // T√πy ch·ªçn: Reset form sau khi g·ª≠i
        form.reset();
    }

    // Kh·ªüi t·∫°o form khi trang t·∫£i xong
    generateForm();

</script>
</body>
</html>
